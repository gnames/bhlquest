{{ define "home" }}
  <div id='form-panel'>
    <p>Ask a question about birds and see links
    to relevant BHL pages.
    </p>
    <form action='/' method='GET'>
      <div>
        <label for='format'>Output format</label>
        <select id='format' name='format'>
          {{ range .FormatOptions }}
          <option value='{{ . }}' {{ if eq . $.Format}}selected{{ end }}>{{ upper . }}</option>
          {{ end }}
        </select>
        &nbsp;&nbsp
        <label for='max_result'>Max results number</label>
        <input id='max_results' name='max_results' type='number' value='{{ .MaxResultsNum }}' min='1' max='20'/>
        &nbsp;&nbsp
         <label for='score_threshold'>Score min threshold</label>
         <input id='score_threshold' name='score_threshold' type='number' step='0.1' min='0.1' max='1.0' value='{{ .ScoreThreshold }}'>
        &nbsp;&nbsp;
        <label for='with_text'>Show Text</label>
        <input id='with_text' name='with_text' type='checkbox'
         {{ if .WithText }}checked{{ end }}/>

      </div>
      <textarea cols='24' name='question' rows='2' autofocus placeholder="Do Bald Eagles migrate?">{{ .Question }}</textarea>
      <button>Ask</button>
    </form>
  </div>

  {{ if .Output }}
    <h4>Q: {{ .Output.Meta.Question }}</h4>
    Number of results: {{ len .Output.Results }}
    {{ range .Output.Results }}
      {{ template "results" . }}
    {{ end }}
  {{ end }}

{{ end }}
